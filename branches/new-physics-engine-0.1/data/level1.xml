<?xml version="1.0" encoding="ISO-8859-1"?>
<!-- best viewed with tabs set to 2 spaces -->

<gameMode type="simulation" name="Level 1 - Sonic Desert Run">

	<info>
		<map_version>0.2-beta</map_version>
		<author>Dominic Cerquetti</author>
		<description>Sonic Desert Run</description>
	</info>

	<properties>
		<width>2560</width>
		<height>240</height>
		<camera_left>0</camera_left>
		<camera_top>0</camera_top>
	</properties>
	
	<objectDefinitions>
		<!-- the IMPORTANT game objects -->
		<include_xml_file>data/objects/obj_sonic.xml</include_xml_file>
		<include_xml_file>data/objects/obj_sonic_x.xml</include_xml_file>
		<include_xml_file>data/objects/obj_tails.xml</include_xml_file>

		<!-- level backgrounds/foregrounds -->
		<include_xml_file>data/objects/obj_background.xml</include_xml_file>
		<include_xml_file>data/objects/obj_floor.xml</include_xml_file>
		
		<!-- shows a controler, used during demos -->
		<include_xml_file>data/objects/obj_controller.xml</include_xml_file>
	
		<!-- various scenery -->
		<include_xml_file>data/objects/obj_s_palm_tall.xml</include_xml_file>
		<include_xml_file>data/objects/obj_s_palm_small.xml</include_xml_file>
		<include_xml_file>data/objects/flower1.xml</include_xml_file>
		<include_xml_file>data/objects/flower2.xml</include_xml_file>
	</objectDefinitions>

	<map>
		<layer scroll_speed="0.5f" name="background">
			<object objectDef="background">
				<position type="fixed">	<x>0</x> <y>0</y> <alignBottom></position>
				<alignBottom>
			</object>
		</layer>
	
		<layer scroll_speed="1.0f" name="bg_objects">	

			<!-- oh, some palm trees and things -->
			<!-- FYI, y = 21 is the floor height -->
			<object objectDef="s_palm_tall"><position type="fixed">
			<x>40</x><y>21</y><alignBottom></position></object>
			<object objectDef="s_palm_small"><position type="fixed">
			<x>100</x><y>21</y><alignBottom></position></object>
			<object objectDef="s_palm_tall"><position type="fixed">
			<x>200</x><y>21</y><alignBottom></position></object>
			<object objectDef="s_palm_tall"><position type="fixed">
			<x>400</x><y>21</y><alignBottom></position></object>
			<object objectDef="s_palm_small"><position type="fixed">
			<x>430</x><y>21</y><alignBottom></position></object>
			<object objectDef="s_palm_small"><position type="fixed">
			<x>600</x><y>21</y><alignBottom></position></object>
			<object objectDef="s_palm_tall"><position type="fixed">
			<x>1000</x><y>21</y><alignBottom></position></object>

			<object objectDef="s_flower1"><position type="fixed">
			<x>20</x><y>21</y><alignBottom></position></object>
			<object objectDef="s_flower1"><position type="fixed">
			<x>440</x><y>21</y><alignBottom></position></object>

			<!-- tails flying around -->
			<object objectDef="tails">
				<position type="random"> 
					<xmin>0</xmin> <xmax>200</xmax>
					<ymin>0</ymin> <ymax>200</ymax>
				</position>
			</object>

		</layer>

		<layer scroll_speed="1.0f" name="foreground">
			<object objectDef="sonic">
				<position type="fixed">	<x>20</x> <y>200</y> </position>
				<inputController>1</inputController>
				<cameraFollow />
			</object>
	
			<object objectDef="sonicx">
				<position type="fixed">	<x>50</x> <y>200</y> </position>
				<inputController>2</inputController>
			</object>

			<object objectDef="floor">
				<position type="fixed"> 
					<x>0</x> <y>26</y>
				</position>
			</object>
		</layer>

		<layer scroll_speed="1.0f" name="overlays">
			<object objectDef="controller">
				<position type="fixed">	<x>125</x> <y>5</y> </position>
				<inputController>1</inputController>
			</object>
		</layer>

		<layer scroll_speed="2.0f" name="foreground_fast">
			<object objectDef="s_flower2"><position type="fixed">
			<x>100</x><y>40</y></position></object>
			<object objectDef="s_flower2"><position type="fixed">
			<x>80</x><y>30</y></position></object>
			<object objectDef="s_flower1"><position type="fixed">
			<x>80</x><y>60</y></position></object>
			<object objectDef="s_palm_tall"><position type="fixed">
			<x>400</x><y>100</y></position></object>

			<repeat>100
				<object objectDef="s_palm_tall">
					<position type="random">
						<xmin>0</xmin><xmax>2500</xmax>
						<ymin>20</ymin><ymax>150</ymax>
					</position>
				</object>
			</repeat>
		</layer>
			
	</map>

</gameMode>
