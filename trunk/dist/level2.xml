<?xml version="1.0" encoding="ISO-8859-1"?>
<!-- best viewed with tabs set to 2 spaces -->

<gameMode type="simulation" name="Level 2 - Sonic Desert Run">

	<music>level2.ogg</music>
	<info>
		<map_version>0.2-beta</map_version>
		<author>Dominic Cerquetti</author>
		<description>Sonic Desert Run</description>
	</info>

	<properties>
		<width>10000</width>
		<height>6000</height>
		<camera_x>10000</camera_x>
		<camera_y>0</camera_y>
		<bgcolor>
			<r>91</r>
			<g>29</g>
			<b>39</b>
		</bgcolor>

	</properties>
	
	<objectDefinitions>
		<!-- the IMPORTANT game objects -->
		<include_xml_file>objects/jouten.xml</include_xml_file>
		<include_xml_file>objects/toneriko.xml</include_xml_file>

		<!-- level backgrounds/foregrounds -->
		<include_xml_file>objects/obj_bg_lava.xml</include_xml_file>
		<include_xml_file>objects/obj_bg_lava2.xml</include_xml_file>
		
		<include_xml_file>objects/obj_floor2.xml</include_xml_file>
		<include_xml_file>objects/floor3_a.xml</include_xml_file>
		
		<!-- shows a controler, used during demos --> 
		<include_xml_file>objects/obj_controller.xml</include_xml_file>
	
		<!-- various scenery -->
		<include_xml_file>objects/door.xml</include_xml_file>
		<include_xml_file>objects/obj_s_palm_tall.xml</include_xml_file>
		<include_xml_file>objects/flower1.xml</include_xml_file>
		<include_xml_file>objects/flower2.xml</include_xml_file>
		<include_xml_file>objects/plane.xml</include_xml_file>
		<include_xml_file>objects/sign-arrow.xml</include_xml_file>
		<include_xml_file>objects/sign-haha.xml</include_xml_file>
		<include_xml_file>objects/sign-credits.xml</include_xml_file>
		<include_xml_file>objects/totem1.xml</include_xml_file>
		<include_xml_file>objects/skid.xml</include_xml_file>
		<include_xml_file>objects/ball.xml</include_xml_file>
		<include_xml_file>objects/cloud.xml</include_xml_file>
		<include_xml_file>objects/gear1.xml</include_xml_file>
		
		<include_xml_file>objects/siren.xml</include_xml_file>
		<include_xml_file>objects/txt_test.xml</include_xml_file>

	</objectDefinitions>

	<map>
		<layer scroll_speed="0.15f" name="background">
			<object objectDef="background-lava">
				<position type="fixed">	<x>0</x> <y>0</y> </position>
			</object>

			<!-- plane flying around in the back -->
			<object objectDef="plane">
				<position type="fixed"> 
					<x>340</x><y>200</y>
					<velx>-6.0f</velx><vely>0.0f</vely>
				</position>
			</object>
	
		</layer>
	
		<layer scroll_speed="0.45f" name="background">
	
			<object objectDef="gear1">
				<position type="fixed">
					<x>230</x><y>80</y>
					<vel_rotate>1.0</vel_rotate>
				</position>
			</object>
			<object objectDef="gear1">
				<position type="fixed">
					<x>400</x><y>50</y>
					<vel_rotate>-2.0</vel_rotate>
				</position>
			</object>
			<object objectDef="gear1">
				<position type="fixed">
					<x>580</x><y>70</y>
					<vel_rotate>4.0</vel_rotate>
				</position>
			</object>

			<object objectDef="background-lava2">
				<position type="fixed">	<x>0</x> <y>0</y> </position>
			</object>

		</layer>

		<layer scroll_speed="1.0f" name="bg_objects">	

			<repeat times="200">
				<starting_x>0</starting_x>
				<starting_y>30</starting_y>
				
				<object objectDef="floor2">
					<position type="offset">
						<x_offset>129	</x_offset>
						<y_offset>0	</y_offset>
						<alignTop/>
					</position>
				</object>
			</repeat>

			<repeat times=10>
				<object objectDef="s_siren">
					<position type="random">
						<xmin>0</xmin><xmax>2500</xmax>
						<ymin>30</ymin><ymax>30</ymax>
					</position>
				</object>
			</repeat>

			<object objectDef="floor3_a"><position type="fixed">
			<x>0</x><y>5000</y><alignTop/></position></object>
			
			<object objectDef="s_sign_arrow"><position type="fixed">
			<x>4930</x><y>30</y></position></object>
			<object objectDef="door"><position type="fixed">
			<x>5000</x><y>30</y></position></object>
			<object objectDef="s_sign_arrow"><position type="fixed">
			<flipx/><x>5070</x><y>30</y></position></object>
			
			<object objectDef="s_sign_arrow"><position type="fixed">
			<x>30</x><y>30</y></position></object>
			
			<object objectDef="s_sign_arrow"><position type="fixed">
			<x>1000</x><y>30</y></position></object>
			<object objectDef="s_sign_arrow"><position type="fixed">
			<x>1100</x><y>30</y></position></object>
			<object objectDef="s_sign_arrow"><position type="fixed">
			<x>1200</x><y>30</y></position></object>	
			
			<object objectDef="s_sign_haha"><position type="fixed">
			<x>2380</x><y>30</y></position></object>
			<object objectDef="s_sign_credits"><position type="fixed">
			<x>2442</x><y>30</y></position></object>
			
			<object objectDef="s_totem1"><position type="fixed">
			<x>2544</x><y>30</y></position></object>
			<object objectDef="s_totem1"><position type="fixed">
			<x>2544</x><y>94</y></position></object>
			
		</layer>

		<layer scroll_speed="1.0f" name="foreground">
			<object objectDef="jouten">
				<position type="fixed">	
					<x>500</x> <y>50</y>
					<vely>20</vely>
				</position>
				<inputController>1</inputController>
				<cameraFollow />
			</object>

			<object objectDef="toneriko">
				<position type="fixed">	
					<x>600</x> <y>50</y>
					<vely>20</vely>
				</position>
				<inputController>2</inputController>
			</object>

		</layer>

		<layer scroll_speed="1.0f" name="overlays">
			<object objectDef="controller">
				<position type="fixed">	
						<x>5</x> <y>5</y> 
						<alignRight />
				</position>
				<inputController>1</inputController>
			</object>

			<object objectDef="txt_test">
				<position type="fixed">
					<x>0</x><y>0</y>
				</position>
				<text>You found the|"cosmic door".| |Huzzah.~As a reward, I'll|tell you a little|secret.  If you press|the "D" key,|you will drop little|airballs.~Don't ask me why|Jouten can do it.|He's just a|tech guy.~I mean, Toneriko|is understandable,|since she's...| |Oops.|No plot for you yet!~Anyway, press "C"|to start.  Try and|find that "cosmic|door" again.</text>
				<avatar>amaya-icon.png</avatar>
			</object>

			<repeat times="1200">
				<object objectDef="cloud">
					<position type="random">
						<xmin>0</xmin><xmax>10000</xmax>
						<ymin>1000</ymin><ymax>6000</ymax>
					</position>
					<!--<alpha>128</alpha>-->
				</object>
			</repeat>


		</layer>

		<!--<layer scroll_speed="1.5f" name="foreground_fast">
			<repeat times=20>
				<object objectDef="s_flower1">
					<position type="random">
						<xmin>0</xmin><xmax>2500</xmax>
						<ymin>-42</ymin><ymax>0</ymax>
						
					</position>
				</object>
			</repeat>

			<repeat times=20>
				<object objectDef="s_flower2">
					<position type="random">
						<xmin>0</xmin><xmax>25000</xmax>
						<ymin>-30</ymin><ymax>0</ymax>
						
					</position>
				</object>
			</repeat>

		</layer>-->
			
	</map>

</gameMode>
